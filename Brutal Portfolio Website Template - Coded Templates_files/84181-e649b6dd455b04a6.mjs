"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[84181,18755],{640498:(e,t,r)=>{r.d(t,{Gt:()=>i,LG:()=>s,UO:()=>a,ZB:()=>n,ZP:()=>l});let i=e=>e.replace(/\s+/g,"-"),s=100,a=10,n=28,l={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},118755:(e,t,r)=>{r.d(t,{G6:()=>a,i7:()=>n,oi:()=>i,u$:()=>s,un:()=>o,vU:()=>l,w1:()=>u});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),s=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function a(e){return s(e)===i.SAFARI}function n(e){return s(e)===i.CHROME}function l(e){return s(e)===i.FIREFOX}function o(e){return s(e)===i.EDGE}function u(e){return s(e)===i.IE}},978993:(e,t,r)=>{r.d(t,{L_:()=>s,Nh:()=>a,qn:()=>i});let i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(e){return window.console.error("Cannot access sessionStorage."),t}},s=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(e){window.console.error("Cannot access sessionStorage.")}},a=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(e){window.console.error("Cannot access sessionStorage.")}}},809604:(e,t,r)=>{r.d(t,{Z:()=>a});let i=(e,t)=>0===e.lastIndexOf(t,0);var s=r(54473);let a=({url:e})=>{let t=(0,s.Z)("/");return i(e,t)?e.substr(t.length-1):e}},644797:(e,t,r)=>{r.d(t,{W:()=>_,r:()=>u});var i=r(667294),s=r(573706),a=r(498490),n=r(297728),l=r(785893);let{Provider:o,useHook:u}=(0,a.Z)("VideoPlayer");function _({children:e}){let{logContextEvent:t,logImpression:r}=(0,s.v)(),{checkExperiment:a}=(0,n.F)(),[u,_]=(0,i.useState)(!1),[d,c]=(0,i.useState)([]),[p,E]=(0,i.useState)([]),[f,A]=(0,i.useState)({}),I=a("web_ads_mrc_video_impression").anyEnabled,h=e=>{A(t=>({...t,[e]:!0}))},b=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");I&&(t||r)&&c(t=>[...t,e].slice(-1e3))}},[I]),m=(0,i.useCallback)(e=>{18===e.eventType&&I&&E(t=>[...t,e].slice(-1e3))},[I]),O=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},T=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,i.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!f[r]||!I||(t(O(e)),!1)});e.length!==d.length&&c(e)},[d,I,t,f]),(0,i.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(f[t]&&I){let t=T(e);return t&&r(t),!1}return!0});e.length!==p.length&&E(e)},[p,I,r,f]);let R=(0,i.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:m,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:_,setVideoPlayed:h,videosPlayed:f}),[u,b,m,f]);return(0,l.jsx)(o,{value:R,children:e})}},62370:(e,t,r)=>{r.d(t,{r:()=>b,K:()=>h});var i=r(667294),s=r(498490),a=r(961754),n=r(383399),l=r(942905),o=r(978993),u=r(296209);let _=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,u.Z)(r)]=e[r]:t[(0,u.Z)(r)]=_(e[r]));return t},d=(e,t)=>{let r=[];for(let i in e)i!==t&&r.push({id:i,..._(e[i])});let i=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),s=new Map;for(let e of i)s.set(e.id,e);return s},c={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},E=({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:s,disableProfileChanger:a,headerVisible:n}=r,l=(0,i.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]),o=(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!s})},[t,e,s]);return{changeProfile:l,toggleORBACVisibility:o,toggleDisableProfileChanger:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),toggleHeaderVisibility:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!n})},[t,e,n])}},f=e=>{let[t,r]=(0,i.useReducer)(p,c),s=E({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:n}=t;return(0,i.useEffect)(()=>{let e=(0,o.qn)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,o.qn)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,o.Nh)("orbacVisibility",n)},[n]),(0,i.useEffect)(()=>{(0,o.Nh)("orbacActiveProfile",a)},[a]),{state:t,actions:s,receiveProfiles:(0,i.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:d(e,t)})},[r])}};var A=r(785893);let{Provider:I,useMaybeHook:h}=(0,s.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let t,r=(0,n.Z)(),s=!!(r.isAuth&&r.isPartner),{state:o,actions:u,receiveProfiles:_}=f(s),{activeProfile:d,headerVisible:c,profiles:p=[]}=o,E=p?Array.from(p.values()):[],h=(0,l.Z)(E),b=!!r.isAuth&&E.length>0&&h,m=r.isAuth?r.id:"",O=r.isAuth?r.username:"",{changeProfile:T,toggleORBACVisibility:R,toggleDisableProfileChanger:S,toggleHeaderVisibility:P}=u;(0,i.useEffect)(()=>{if(s){if("string"==typeof h){T(h);return}d||T(m)}},[h,m,s,T,d]),(0,i.useEffect)(()=>{s&&(b&&!c&&P(!0),!b&&c&&P(!1))},[P,b,s,c,p]);let{data:y}=(0,a.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),D=y?.profiles;r&&r.isAuth&&o.activeProfile===r.id?t={id:r.id,permissions:["OWNER"],user:{username:O,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:d&&o.profiles&&(t=o.profiles.get(d)),(0,i.useEffect)(()=>{D&&_(D,m)},[_,D,m]);let C=o.profiles?Array.from(o.profiles.values()):[];return(0,A.jsx)(I,{value:{profiles:C,headerVisible:o.headerVisible,activeProfile:t,changeProfile:T,toggleORBACVisibility:R,toggleDisableProfileChanger:S,toggleHeaderVisibility:P},children:e})}},501912:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(297728),s=r(62370),a=r(942905);let n=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,s.K)(),{activeProfile:r}=t||{},n=(0,a.Z)(t?.profiles||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return l&&!n?Object.freeze({}):r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},942905:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(616550),s=r(282999),a=r(383399),n=r(66560);let l=e=>{let t=(0,i.TH)(),r=(0,a.Z)(),l=(0,n.S6)(),o=(0,i.$B)("/:username"),u=o?.params?.username,_=(0,i.$B)("/pin/:id"),d=!!_?.params?.id&&l(_.params.id)?.pinner?.id;if((0,s.ej)(t))return!1;if((0,s.RU)(t)||(0,s.mY)(t))return!0;let c=e.concat(r.isAuth?{user:{username:r.username},id:r.id}:{}).find(e=>{let{user:t={},id:r}=e||{},{username:i}=t;return(!!i&&!!u||!!d&&!!r)&&(i===u||d===r)});return!!c&&c.id}},801621:(e,t,r)=>{r.d(t,{D3:()=>d,DX:()=>u,Fk:()=>i,KY:()=>c,Ms:()=>s,N1:()=>p,_P:()=>o,gJ:()=>a,lJ:()=>l,nl:()=>n,q6:()=>_});let i=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},s=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},a=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},n=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,u=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,_=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),d=(e,t,r)=>!!(_(e,t,r)||e&&e.isAuth&&t===e.id),c=(e,t,r)=>d(e,t&&t.owner&&t.owner.id||"",r);function p(e,t,r){return d(e,t?t.id:"",r)}},811093:(e,t,r)=>{r.d(t,{Z:()=>_,j:()=>u});var i=r(883119),s=r(144326),a=r(240760),n=r(297728),l=r(730212),o=r(785893);let u=[0,2,3];function _({hasAffiliateProducts:e,hasAffiliateLink:t,href:r,isPromoted:_,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:p,sponsorshipStatus:E,textWeight:f="bold",isGrid:A}){let I,h=(0,s.ZP)(),{isAuthenticated:b}=(0,l.B)(),{checkExperiment:m}=(0,n.F)(),O=m("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,T=e=>"enabled"===e||"employees"===e,R=b&&(t||e)&&T(m("closeup_affiliate_ui_label_web").group)||T(m("mweb_closeup_affiliate_ui_label").group),S=!b&&(t||e)&&(T(m("closeup_unauth_affiliate_ui_label_web").group)||T(m("mweb_closeup_unauth_affiliate_ui_label").group)),P=r||(p?`/${p}/`:null),y=A&&e,D=["control_affiliate_text_removal","enabled_affiliate_text_removal","control_indicator_and_affiliate_removal","enabled_indicator_and_affiliate_removal","employees"].includes(m("web_grid_pin_rep_indicator_and_affiliate_cleanup",{dangerouslySkipActivation:!0}).group),C=y&&D&&m("web_grid_pin_rep_indicator_and_affiliate_cleanup").anyEnabled,v=P&&c?(0,o.jsx)(i.rU,{dataTestId:"sponsorship-text-link",href:P,onClick:d,children:(0,o.jsx)(i.xv,{size:"200",weight:f,children:c})},c):void 0;return _?I=(0,a.nk)(h._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:v}):E||0===E?c&&!u.includes(E)?I=(0,a.nk)(h._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:v}):2!==E&&(I=h._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!A&&(R||S)?I=h._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'):y&&!C&&(I=h._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(i.xv,{color:"subtle",inline:!0,lineClamp:2,size:"200",children:[O&&!_&&"Ad • "||"",I]})}},701842:(e,t,r)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function s(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>n,N8:()=>s,Qv:()=>a,_f:()=>i,vX:()=>l});let a=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},403764:(e,t,r)=>{r.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84181-e649b6dd455b04a6.mjs.map